import {View, Text, StyleSheet, Dimensions} from 'react-native';
import {useEffect, useRef} from 'react';
import Svg, {Path} from 'react-native-svg';
import {FontStyle} from '../../values/Font';
import {COLORS} from '../../values/Colors';
const {width: windowWidth, height: windowHeight} = Dimensions.get('window');

const PointerModal = ({content, relativeDim, buttonNumber}) => {
  const {x: buttonX, y: buttonY} = relativeDim;
  const width = windowWidth * 0.7;
  const arrowWidth = windowWidth * 0.1;
  const arrowHeight = windowHeight * 0.1;

  const offsetX = width * 0.2;

  return (
    <View
      style={[
        styles.container,
        {
          width: width,
          left: buttonX + offsetX,
          bottom: windowHeight - buttonY,
        },
      ]}>
      <Text style={styles.text}>{content}</Text>
      <Svg
        width={arrowWidth}
        height={arrowHeight}
        viewBox="0 0 45 62"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <Path
          d="M0.742085 60.0273L2.66867 59.4747L4.4945 58.8866L6.23923 58.2582L7.91024 57.5942L9.50016 56.8946L11.0139 56.1571L12.4588 55.3864L13.8301 54.5825L15.13 53.743L16.3661 52.8727L17.5333 51.9716L18.6367 51.0373L19.6811 50.0745L20.6616 49.0832L21.5831 48.0588L22.4505 47.0083L23.2615 45.9293L24.0183 44.8218L24.726 43.6883L25.3797 42.5287L25.9842 41.3406L26.5445 40.1288L27.0581 38.891L27.525 37.627L27.9526 36.3393L28.3384 35.0303L28.6824 33.6952L28.9896 32.3412L29.2574 30.9657L29.4909 29.569L29.6924 28.1533L29.8595 26.7186L29.9947 25.2649L30.1003 23.7946L30.1765 22.3078L30.2256 20.8043L30.2502 19.2866V17.7547L30.2281 16.2085L30.1863 14.6505L30.1249 13.0807L30.0438 11.5013L29.9406 9.90297L29.8374 8.30702L29.7071 6.69446L29.5769 5.07955L29.4245 3.45274L29.3951 3.13498L29.3213 3.25355L29.0731 3.68988L28.8495 4.10963L28.6554 4.4867L28.5006 4.79496L28.3826 5.02026L27.4906 6.61384L26.6109 8.16L25.7409 9.66346L24.8784 11.1361L24.0208 12.5826L23.1656 14.0078L22.3129 15.4165L21.4602 16.8227L20.6001 18.229L19.74 19.6328L18.8628 21.0651L17.9855 22.4975C17.6955 22.9741 17.059 23.1354 16.5602 22.8532C16.0638 22.5734 15.8967 21.9568 16.1867 21.4801L17.064 20.0478L17.9412 18.6155L18.8013 17.2116L19.6589 15.8078L20.5092 14.4039L21.3594 13L22.2097 11.5819L23.0624 10.1449L23.92 8.68169L24.785 7.1877L25.6598 5.65341L26.547 4.0717L26.6305 3.90806L26.7853 3.60214L26.9917 3.20376L27.2375 2.74607L27.5201 2.25283L27.8248 1.76431L27.9968 1.50821L28.1713 1.26869L28.3531 1.03867L28.5473 0.818121L28.7586 0.607063L28.9896 0.414995L29.255 0.23714L29.5818 0.0877407L29.9701 0L30.4149 0.0142133L30.8621 0.165986L31.2061 0.407874L32.3292 1.43471L33.4448 2.45677L34.5285 3.45987L35.6122 4.46296L36.691 5.47555L37.7698 6.48577L38.8609 7.51733L39.9691 8.57024L41.102 9.65159L42.2619 10.7614L43.4586 11.9115L44.6996 13.1067C45.1026 13.498 45.1001 14.1335 44.6922 14.5248C44.2843 14.9161 43.6257 14.9161 43.2227 14.5248L41.9842 13.3296L40.7899 12.1819L39.6325 11.0744L38.5021 9.99783L37.3963 8.94966L36.3101 7.92286L35.2338 6.91501L34.1574 5.90717L33.0787 4.90879L31.9999 3.91044L31.5231 3.47411L31.6558 4.91828L31.7885 6.54269L31.9212 8.16946L32.0244 9.78203L32.1277 11.3922L32.2088 12.9953L32.2726 14.5889L32.3169 16.1706L32.339 17.7428V19.3056L32.312 20.8541L32.2628 22.3908L32.1842 23.9156L32.076 25.4261L31.9384 26.9225L31.7664 28.4046L31.56 29.8678L31.3192 31.3167L31.039 32.749L30.7196 34.16L30.3608 35.552L29.9578 36.9251L29.5081 38.2768L29.0142 39.6071L28.4711 40.9162L27.8789 42.1991L27.2375 43.4583L26.5396 44.6938L25.7876 45.8985L24.9816 47.0794L24.1166 48.2319L23.1902 49.3512L22.2072 50.442L21.1604 51.5021L20.0497 52.5265L18.8775 53.5178L17.6365 54.4758L16.3267 55.3959L14.9531 56.2828L13.5057 57.1318L11.987 57.9404L10.402 58.7111L8.73837 59.4439L6.99855 60.134L5.18747 60.7861L3.29283 61.3956L1.3343 61.9576C0.786312 62.1165 0.208828 61.8153 0.0441856 61.2841C-0.120461 60.7529 0.189175 60.1956 0.737167 60.0368L0.742085 60.0273Z"
          fill="white"
        />
      </Svg>
    </View>
  );
};

const styles = StyleSheet.create({
  container: {position: 'absolute', alignItems: 'center'},
  text: {
    color: COLORS.neutral_500,
    ...FontStyle.h4,
    backgroundColor: '#FED7D7',
    paddingHorizontal: 20,
    paddingVertical: 10,
    borderRadius: 5,
  },
});

export default PointerModal;
